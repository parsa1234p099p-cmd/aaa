<!doctype html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="light dark">
  <title>صفحه معرفی فرد | سبک ویکی‌پدیا</title>
  <style>
    :root{
      --bg:#0b1020;
      --card:#0f1731;
      --card2:#0c142c;
      --text:#eaf0ff;
      --muted:#b9c3e6;
      --line:rgba(255,255,255,.10);
      --accent:#7c5cff;
      --accent2:#22c55e;
      --shadow: 0 18px 60px rgba(0,0,0,.35);
      --radius:18px;
      --radius2:22px;
      --container: 1120px;
      --serif: ui-serif, "Noto Naskh Arabic", "Vazirmatn", "IranNastaliq", "Times New Roman", serif;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Vazirmatn", "Noto Sans Arabic", Arial, sans-serif;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    }
    [data-theme="light"]{
      --bg:#f6f8ff;
      --card:#ffffff;
      --card2:#f3f6ff;
      --text:#0b1020;
      --muted:#40507a;
      --line:rgba(10,16,32,.10);
      --shadow: 0 18px 60px rgba(20,30,60,.12);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: var(--sans);
      background:
        radial-gradient(900px 420px at 80% -10%, rgba(124,92,255,.25), transparent 60%),
        radial-gradient(700px 380px at 20% 10%, rgba(34,197,94,.16), transparent 55%),
        radial-gradient(900px 420px at 50% 110%, rgba(124,92,255,.16), transparent 60%),
        var(--bg);
      color:var(--text);
      line-height:1.85;
      letter-spacing:.1px;
    }

    a{color:inherit}
    .container{max-width:var(--container); margin:0 auto; padding:22px 16px 60px;}
    header{
      position:sticky; top:0; z-index:50;
      backdrop-filter: blur(12px);
      background: linear-gradient(to bottom, rgba(0,0,0,.35), rgba(0,0,0,0));
      padding: 10px 0 12px;
    }
    [data-theme="light"] header{
      background: linear-gradient(to bottom, rgba(255,255,255,.75), rgba(255,255,255,0));
    }

    .topbar{
      max-width:var(--container); margin:0 auto; padding:0 16px;
      display:flex; align-items:center; justify-content:space-between; gap:12px;
    }
    .brand{
      display:flex; align-items:center; gap:10px;
      text-decoration:none;
    }
    .logo{
      width:38px; height:38px; border-radius:14px;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.22), transparent 55%),
                  linear-gradient(135deg, var(--accent), rgba(34,197,94,.9));
      box-shadow: 0 10px 28px rgba(124,92,255,.25);
      position:relative;
      overflow:hidden;
    }
    .logo::after{
      content:"";
      position:absolute; inset:-40%;
      background: conic-gradient(from 180deg, rgba(255,255,255,.25), transparent 35%, rgba(255,255,255,.18), transparent 70%);
      animation: spin 10s linear infinite;
    }
    @keyframes spin{to{transform:rotate(360deg)}}
    .brand h1{
      margin:0;
      font-size:15px;
      font-weight:800;
      letter-spacing:.2px;
    }
    .brand small{
      display:block;
      color:var(--muted);
      font-weight:600;
      font-size:12px;
      margin-top:-2px;
    }

    .controls{display:flex; align-items:center; gap:10px; flex-wrap:wrap; justify-content:flex-end;}
    .pill{
      display:flex; align-items:center; gap:10px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,.06);
      padding: 9px 12px;
      border-radius: 999px;
      box-shadow: 0 12px 40px rgba(0,0,0,.14);
    }
    [data-theme="light"] .pill{background: rgba(10,16,32,.03)}
    .pill input{
      width:min(360px, 52vw);
      border:0; outline:0;
      background:transparent;
      color:var(--text);
      font-size:13px;
    }
    .pill input::placeholder{color:color-mix(in oklab, var(--muted), transparent 20%)}
    .btn{
      border:1px solid var(--line);
      background: rgba(255,255,255,.06);
      color:var(--text);
      padding: 9px 12px;
      border-radius: 999px;
      cursor:pointer;
      font-weight:700;
      font-size:13px;
      display:inline-flex; align-items:center; gap:8px;
      transition: transform .15s ease, background .15s ease, border-color .15s ease;
      user-select:none;
      white-space:nowrap;
    }
    .btn:hover{transform: translateY(-1px); border-color: color-mix(in oklab, var(--line), var(--accent) 40%)}
    .btn:active{transform: translateY(0px)}
    .btn.primary{
      background: linear-gradient(135deg, color-mix(in oklab, var(--accent), white 10%), color-mix(in oklab, var(--accent2), white 6%));
      border-color: transparent;
      box-shadow: 0 16px 45px rgba(124,92,255,.22);
    }
    .btn svg{width:16px; height:16px}

    .layout{
      display:grid;
      grid-template-columns: 1.6fr .9fr;
      gap: 18px;
      align-items:start;
      margin-top: 18px;
    }
    @media (max-width: 980px){
      .layout{grid-template-columns: 1fr; }
    }

    .card{
      background: linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.02));
      border:1px solid var(--line);
      border-radius: var(--radius2);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    [data-theme="light"] .card{
      background: linear-gradient(180deg, rgba(10,16,32,.02), rgba(10,16,32,.01));
    }
    .card .inner{padding: 18px 18px 16px;}
    .hero{
      padding: 18px 18px 4px;
      display:flex; gap:14px; align-items:flex-start;
    }
    .avatar{
      width:84px; height:84px; border-radius:22px;
      background:
        radial-gradient(circle at 30% 25%, rgba(255,255,255,.22), transparent 55%),
        linear-gradient(135deg, rgba(124,92,255,.9), rgba(34,197,94,.65));
      border:1px solid var(--line);
      box-shadow: 0 18px 50px rgba(0,0,0,.22);
      position:relative;
      flex:0 0 auto;
      overflow:hidden;
    }
    .avatar::after{
      content:"";
      position:absolute; inset:-40%;
      background: radial-gradient(circle, rgba(255,255,255,.25), transparent 55%);
      transform: rotate(25deg);
      opacity:.8;
    }
    .title h2{
      margin:0;
      font-size: 26px;
      line-height:1.25;
      letter-spacing:.2px;
      font-weight:900;
    }
    .title .subtitle{
      margin-top:6px;
      color: var(--muted);
      font-weight:700;
      font-size: 13px;
    }
    .badges{display:flex; flex-wrap:wrap; gap:8px; margin-top:12px}
    .badge{
      padding: 6px 10px;
      border-radius: 999px;
      font-size:12px;
      font-weight:800;
      border:1px solid var(--line);
      background: rgba(255,255,255,.06);
    }
    .badge.accent{border-color: color-mix(in oklab, var(--accent), var(--line) 55%);}

    .toc{
      margin: 12px 18px 16px;
      padding: 12px;
      border-radius: var(--radius);
      background: rgba(255,255,255,.04);
      border:1px dashed color-mix(in oklab, var(--line), var(--muted) 25%);
    }
    [data-theme="light"] .toc{background: rgba(10,16,32,.02)}
    .toc h3{
      margin:0 0 6px;
      font-size:13px;
      letter-spacing:.2px;
      color: var(--muted);
    }
    .toc ol{
      margin:0; padding:0 18px 0 0;
      display:grid; gap:4px;
      font-size:13px;
    }
    .toc a{color: color-mix(in oklab, var(--text), var(--accent) 15%); text-decoration:none}
    .toc a:hover{text-decoration:underline}
    .section{padding: 0 18px 18px;}
    .section h3{
      font-size:18px;
      margin: 16px 0 8px;
      font-weight:900;
      display:flex; align-items:center; gap:10px;
    }
    .dot{
      width:10px; height:10px; border-radius:99px;
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      box-shadow: 0 10px 22px rgba(124,92,255,.25);
      flex:0 0 auto;
    }
    .muted{color:var(--muted)}
    .lead{
      font-family: var(--serif);
      font-size: 16px;
      margin: 10px 0 0;
    }

    /* Infobox */
    .infobox .cover{
      height: 120px;
      background:
        radial-gradient(800px 180px at 50% 0%, rgba(255,255,255,.20), transparent 60%),
        linear-gradient(135deg, rgba(124,92,255,.85), rgba(34,197,94,.55));
      border-bottom:1px solid var(--line);
      position:relative;
      overflow:hidden;
    }
    .infobox .cover::after{
      content:"";
      position:absolute; inset:-30%;
      background: conic-gradient(from 0deg, rgba(255,255,255,.22), transparent 35%, rgba(255,255,255,.18), transparent 70%);
      animation: spin 18s linear infinite;
      opacity:.7;
    }
    .infobox .box{
      padding: 14px;
    }
    .ibox-title{
      margin: 0 0 8px;
      font-weight: 950;
      font-size: 15px;
      letter-spacing:.2px;
    }
    .kv{
      width:100%;
      border-collapse: collapse;
      overflow:hidden;
      border-radius: 14px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.04);
    }
    [data-theme="light"] .kv{background: rgba(10,16,32,.02)}
    .kv th, .kv td{
      padding: 10px 10px;
      border-bottom:1px solid var(--line);
      vertical-align: top;
      font-size: 13px;
    }
    .kv th{
      text-align:right;
      width: 34%;
      color: var(--muted);
      font-weight: 900;
      letter-spacing:.1px;
    }
    .kv tr:last-child th, .kv tr:last-child td{border-bottom:0}
    .chips{display:flex; flex-wrap:wrap; gap:6px}
    .chip{
      font-size:12px; font-weight:800;
      padding: 5px 9px;
      border-radius:999px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.05);
    }

    /* Timeline */
    .timeline{
      display:grid; gap:12px; margin-top:10px;
    }
    .titem{
      border:1px solid var(--line);
      border-radius: var(--radius);
      background: rgba(255,255,255,.04);
      padding: 12px;
      position:relative;
    }
    .titem::before{
      content:"";
      position:absolute;
      inset-inline-end: 12px;
      top: 12px;
      width: 10px; height: 10px;
      border-radius: 999px;
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      box-shadow: 0 10px 22px rgba(124,92,255,.20);
    }
    .titem .when{
      font-family: var(--mono);
      font-size:12px;
      color: var(--muted);
      font-weight:900;
    }
    .titem .what{
      margin:6px 0 0;
      font-weight: 900;
    }
    .titem .desc{
      margin:6px 0 0;
      color: var(--muted);
      font-size: 13px;
    }

    /* Gallery */
    .grid{
      display:grid; gap:10px;
      grid-template-columns: repeat(3, 1fr);
      margin-top:10px;
    }
    @media (max-width: 520px){ .grid{grid-template-columns: repeat(2, 1fr);} }
    .ph{
      border-radius: 16px;
      border:1px solid var(--line);
      background:
        radial-gradient(circle at 30% 30%, rgba(255,255,255,.16), transparent 55%),
        linear-gradient(135deg, rgba(255,255,255,.08), rgba(255,255,255,.02));
      aspect-ratio: 4/3;
      overflow:hidden;
      position:relative;
      cursor:pointer;
    }
    .ph::after{
      content:"تصویر";
      position:absolute; inset:0;
      display:flex; align-items:center; justify-content:center;
      font-weight: 950; color: color-mix(in oklab, var(--muted), transparent 20%);
      letter-spacing:.3px;
    }

    blockquote{
      margin: 12px 0 0;
      padding: 12px 14px;
      border-radius: var(--radius);
      border:1px solid color-mix(in oklab, var(--line), var(--accent) 28%);
      background: rgba(124,92,255,.10);
    }
    blockquote p{margin:0; font-family: var(--serif)}
    blockquote footer{
      margin-top:8px;
      color: var(--muted);
      font-size: 13px;
      font-weight: 800;
    }

    .refs{
      margin-top: 10px;
      border-radius: var(--radius);
      overflow:hidden;
      border:1px solid var(--line);
    }
    .refs summary{
      cursor:pointer;
      padding: 12px 14px;
      font-weight: 950;
      background: rgba(255,255,255,.04);
      list-style:none;
    }
    .refs summary::-webkit-details-marker{display:none}
    .refs .content{
      padding: 12px 14px 14px;
      background: rgba(255,255,255,.02);
      border-top:1px solid var(--line);
      color: var(--muted);
      font-size: 13px;
    }
    .refs ol{margin:0; padding:0 18px 0 0; display:grid; gap:8px}
    .k{
      font-family: var(--mono);
      color: color-mix(in oklab, var(--text), var(--accent) 20%);
      font-weight: 900;
      font-size: 12px;
      direction:ltr;
      unicode-bidi: plaintext;
    }

    /* Modal */
    .modal{
      position:fixed; inset:0;
      background: rgba(0,0,0,.65);
      display:none;
      align-items:center; justify-content:center;
      padding: 18px;
      z-index: 200;
    }
    .modal.open{display:flex}
    .modal .sheet{
      max-width: 820px;
      width:100%;
      border-radius: 22px;
      border:1px solid var(--line);
      background: var(--card);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .modal .sheet header{
      position:unset;
      background: transparent;
      padding: 0;
    }
    .modal .sheet .bar{
      display:flex; align-items:center; justify-content:space-between;
      padding: 12px 14px;
      border-bottom:1px solid var(--line);
    }
    .modal .sheet .bar strong{font-weight:950}
    .modal .sheet .body{
      padding: 16px;
      color: var(--muted);
      font-size: 14px;
    }

    footer.page{
      margin-top: 18px;
      color: var(--muted);
      font-size: 13px;
      display:flex; gap:10px; flex-wrap:wrap;
      justify-content:space-between;
      align-items:center;
      opacity:.95;
    }
    .sep{opacity:.6}

    /* Print */
    @media print{
      header{display:none}
      body{background:white}
      .card{box-shadow:none}
      .btn{display:none}
      .ph::after{content:""}
      .modal{display:none !important}
    }
  </style>
</head>

<body>
<header>
  <div class="topbar">
    <a class="brand" href="#" aria-label="صفحه اصلی">
      <div class="logo" aria-hidden="true"></div>
      <div>
        <h1>دانشنامه‌ی شخصی</h1>
        <small>صفحه معرفی فرد • تک‌فایل</small>
      </div>
    </a>

    <div class="controls">
      <div class="pill" role="search">
        <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15Z" stroke="currentColor" stroke-width="2"/>
          <path d="M16.5 16.5 21 21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
        <input id="search" type="search" placeholder="جستجو در صفحه (مثلاً: آثار، زندگی، جوایز)..." />
      </div>

      <button class="btn" id="toggleTheme" title="تغییر حالت">
        <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M12 3v2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <path d="M12 19v2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <path d="M4.22 4.22l1.42 1.42" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <path d="M18.36 18.36l1.42 1.42" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <path d="M3 12h2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <path d="M19 12h2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <path d="M4.22 19.78l1.42-1.42" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <path d="M18.36 5.64l1.42-1.42" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <path d="M12 17a5 5 0 1 0 0-10 5 5 0 0 0 0 10Z" stroke="currentColor" stroke-width="2"/>
        </svg>
        تم
      </button>

      <button class="btn primary" id="printBtn" title="چاپ / ذخیره PDF">
        <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M7 8V3h10v5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <path d="M7 17h10v4H7v-4Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
          <path d="M6 13H5a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2h-1" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
        چاپ
      </button>
    </div>
  </div>
</header>

<main class="container">
  <div class="layout">
    <!-- Main content -->
    <article class="card" id="article">
      <div class="hero">
        <div class="avatar" title="تصویر/آواتار" aria-hidden="true"></div>
        <div class="title">
          <h2 data-search="نام و عنوان">نام فرد (نمونه: محمد پارسا میانه‌ساز)</h2>
          <div class="subtitle" data-search="خلاصه">پژوهشگر • نویسنده • کارآفرین (نمونه متن) — خلاصه‌ای یک‌خطی شبیه ویکی‌پدیا</div>
          <div class="badges">
            <span class="badge accent" data-search="ملیت">ملیت: ایرانی</span>
            <span class="badge" data-search="حوزه">حوزه: فناوری / هنر / علم</span>
            <span class="badge" data-search="فعالیت">سال‌های فعالیت: ۲۰۱۸–اکنون</span>
          </div>
          <p class="lead" data-search="معرفی کوتاه">
            <b>نام فرد</b> (زادهٔ ۱۳۷X) فردی در حوزهٔ «...»
            است که بیشتر به‌خاطر <span class="muted">دستاورد اصلی/اثر شاخص</span> شناخته می‌شود.
            این متن را مثل لید ویکی‌پدیا کوتاه و دقیق بنویس.
          </p>
        </div>
      </div>

      <nav class="toc" aria-label="فهرست مطالب">
        <h3>فهرست مطالب</h3>
        <ol id="toc"></ol>
      </nav>

      <section class="section" id="bio" data-title="زندگی‌نامه">
        <h3><span class="dot"></span>زندگی‌نامه</h3>
        <p data-search="زندگی‌نامه">
          اینجا دربارهٔ پیشینه، محل تولد، تحصیلات و مسیر کلی زندگی فرد بنویس.
          متن پیشنهادی: از کودکی/نوجوانی شروع کن، بعد تحصیلات، بعد ورود به حرفه.
          بهتره ۲ تا ۳ پاراگراف جمع‌وجور باشه.
        </p>

        <blockquote data-search="نقل قول">
          <p>«یک نقل‌قول کوتاه و الهام‌بخش از فرد یا دربارهٔ او.»</p>
          <footer>— منبع / سال (اختیاری)</footer>
        </blockquote>
      </section>

      <section class="section" id="career" data-title="فعالیت حرفه‌ای">
        <h3><span class="dot"></span>فعالیت حرفه‌ای</h3>
        <p data-search="حرفه">
          مهم‌ترین نقش‌ها، شرکت‌ها/پروژه‌ها، مسئولیت‌ها و نقطه‌های عطف کاری را بنویس.
          اگر لازم داری زیرعنوان بساز: «پروژه‌ها»، «سمت‌ها»، «همکاری‌ها».
        </p>

        <div class="timeline" aria-label="تایم‌لاین">
          <div class="titem" data-search="تایم‌لاین 2020">
            <div class="when">2020</div>
            <div class="what">شروع پروژه / ورود به حوزه</div>
            <div class="desc">توضیح یک‌خطی دربارهٔ اینکه چه شد و چرا مهم بود.</div>
          </div>
          <div class="titem" data-search="تایم‌لاین 2022">
            <div class="when">2022</div>
            <div class="what">دستاورد کلیدی / محصول</div>
            <div class="desc">نتیجه، اثرگذاری، مخاطب یا عدد مهم (اگر داری).</div>
          </div>
          <div class="titem" data-search="تایم‌لاین 2025">
            <div class="when">2025</div>
            <div class="what">گسترش / جایزه / همکاری مهم</div>
            <div class="desc">شرح کوتاه از اهمیت رویداد.</div>
          </div>
        </div>
      </section>

      <section class="section" id="works" data-title="آثار و دستاوردها">
        <h3><span class="dot"></span>آثار و دستاوردها</h3>
        <ul>
          <li data-search="اثر 1"><b>اثر/کتاب/محصول ۱</b> — توضیح کوتاه (سال)</li>
          <li data-search="اثر 2"><b>اثر/کتاب/محصول ۲</b> — توضیح کوتاه (سال)</li>
          <li data-search="اثر 3"><b>اثر/کتاب/محصول ۳</b> — توضیح کوتاه (سال)</li>
        </ul>

        <details class="refs" data-search="منابع">
          <summary>منابع (نمونه)</summary>
          <div class="content">
            <ol>
              <li><span class="k">[1]</span> لینک/کتاب/مقاله معتبر — توضیح کوتاه</li>
              <li><span class="k">[2]</span> وب‌سایت رسمی/مصاحبه — تاریخ</li>
              <li><span class="k">[3]</span> گزارش/پایگاه داده — شناسه/شماره</li>
            </ol>
          </div>
        </details>
      </section>

      <section class="section" id="gallery" data-title="گالری">
        <h3><span class="dot"></span>گالری</h3>
        <p class="muted">روی هر کارت بزن تا توضیح نمونه باز شود. (به‌جای این‌ها می‌تونی عکس واقعی بذاری.)</p>
        <div class="grid">
          <div class="ph" data-caption="تصویر/رویداد ۱"></div>
          <div class="ph" data-caption="تصویر/رویداد ۲"></div>
          <div class="ph" data-caption="تصویر/رویداد ۳"></div>
          <div class="ph" data-caption="تصویر/رویداد ۴"></div>
          <div class="ph" data-caption="تصویر/رویداد ۵"></div>
          <div class="ph" data-caption="تصویر/رویداد ۶"></div>
        </div>
      </section>

      <section class="section" id="seeAlso" data-title="جستارهای وابسته">
        <h3><span class="dot"></span>جستارهای وابسته</h3>
        <ul>
          <li data-search="وابسته 1">حوزهٔ مرتبط ۱</li>
          <li data-search="وابسته 2">پروژه/سازمان ۲</li>
          <li data-search="وابسته 3">افراد/موضوعات مشابه ۳</li>
        </ul>
      </section>

      <div class="inner">
        <footer class="page">
          <span>© <span id="year"></span> • قالب تک‌فایل معرفی فرد</span>
          <span class="sep">|</span>
          <span class="muted">می‌تونی متن‌ها رو مستقیم همین‌جا ادیت کنی و ذخیره بگیری.</span>
        </footer>
      </div>
    </article>

    <!-- Sidebar / Infobox -->
    <aside class="card infobox">
      <div class="cover" aria-hidden="true"></div>
      <div class="box">
        <div class="ibox-title">اطلاعات کلی</div>
        <table class="kv" aria-label="جعبه اطلاعات">
          <tr>
            <th>نام کامل</th>
            <td data-search="نام کامل">نام و نام خانوادگی</td>
          </tr>
          <tr>
            <th>زادروز</th>
            <td data-search="زادروز">۱۳۷X / 19XX</td>
          </tr>
          <tr>
            <th>محل تولد</th>
            <td data-search="محل تولد">شهر، کشور</td>
          </tr>
          <tr>
            <th>حرفه</th>
            <td data-search="حرفه">پژوهشگر، نویسنده، …</td>
          </tr>
          <tr>
            <th>شناخته‌شده برای</th>
            <td data-search="شناخته‌شده">
              <div class="chips">
                <span class="chip">اثر شاخص</span>
                <span class="chip">پروژه مهم</span>
                <span class="chip">دستاورد</span>
              </div>
            </td>
          </tr>
          <tr>
            <th>وب‌سایت</th>
            <td data-search="وب‌سایت"><a href="#" onclick="return false;">example.com</a></td>
          </tr>
        </table>

        <div style="height:12px"></div>

        <div class="ibox-title">لینک‌های سریع</div>
        <div class="chips" aria-label="لینک های سریع">
          <a class="chip" href="#bio">زندگی‌نامه</a>
          <a class="chip" href="#career">فعالیت‌ها</a>
          <a class="chip" href="#works">آثار</a>
          <a class="chip" href="#gallery">گالری</a>
        </div>

        <div style="height:12px"></div>

        <div class="ibox-title">یادداشت</div>
        <div class="muted" style="font-size:13px">
          این قالب کاملاً آفلاین کار می‌کند. اگر عکس واقعی می‌خواهی:
          <span class="k">img src="data:image/..."</span> بگذار یا فایل را کنار HTML قرار بده و آدرس بده.
        </div>
      </div>
    </aside>
  </div>
</main>

<!-- Modal -->
<div class="modal" id="modal" aria-hidden="true">
  <div class="sheet" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <header>
      <div class="bar">
        <strong id="modalTitle">جزئیات</strong>
        <button class="btn" id="closeModal" type="button" aria-label="بستن">
          <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M6 6l12 12M18 6 6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
          بستن
        </button>
      </div>
    </header>
    <div class="body" id="modalBody">…</div>
  </div>
</div>

<script>
  // ====== Theme ======
  const root = document.documentElement;
  const savedTheme = localStorage.getItem("theme");
  const prefersLight = window.matchMedia && window.matchMedia("(prefers-color-scheme: light)").matches;

  function setTheme(t){
    if(t === "light") root.setAttribute("data-theme","light");
    else root.removeAttribute("data-theme");
    localStorage.setItem("theme", t);
  }
  if(savedTheme) setTheme(savedTheme);
  else setTheme(prefersLight ? "light" : "dark");

  document.getElementById("toggleTheme").addEventListener("click", () => {
    const isLight = root.getAttribute("data-theme") === "light";
    setTheme(isLight ? "dark" : "light");
  });

  // ====== Print ======
  document.getElementById("printBtn").addEventListener("click", () => window.print());

  // ====== Year ======
  document.getElementById("year").textContent = new Date().getFullYear();

  // ====== Build TOC ======
  const toc = document.getElementById("toc");
  const sections = [...document.querySelectorAll("section.section")];
  sections.forEach(sec => {
    const title = sec.getAttribute("data-title") || sec.querySelector("h3")?.innerText?.trim() || "بخش";
    const id = sec.id || ("sec-" + Math.random().toString(16).slice(2));
    sec.id = id;

    const li = document.createElement("li");
    const a = document.createElement("a");
    a.href = "#" + id;
    a.textContent = title;
    li.appendChild(a);
    toc.appendChild(li);
  });

  // ====== Simple in-page search highlight ======
  const searchInput = document.getElementById("search");
  const searchable = [...document.querySelectorAll("[data-search]")];

  function clearMarks(){
    searchable.forEach(el => {
      el.style.outline = "";
      el.style.boxShadow = "";
      el.style.scrollMarginTop = "";
    });
  }

  function findFirstMatch(q){
    const query = q.trim().toLowerCase();
    if(!query) return null;

    return searchable.find(el => {
      const hay = (el.getAttribute("data-search") + " " + el.textContent).toLowerCase();
      return hay.includes(query);
    });
  }

  let lastQuery = "";
  searchInput.addEventListener("input", () => {
    const q = searchInput.value;
    clearMarks();

    if(!q.trim()){
      lastQuery = "";
      return;
    }

    const hit = findFirstMatch(q);
    if(hit){
      hit.style.outline = "2px solid rgba(124,92,255,.55)";
      hit.style.boxShadow = "0 0 0 6px rgba(124,92,255,.12)";
      hit.style.scrollMarginTop = "90px";
      hit.scrollIntoView({behavior:"smooth", block:"center"});
    }
    lastQuery = q;
  });

  // ====== Gallery modal ======
  const modal = document.getElementById("modal");
  const modalTitle = document.getElementById("modalTitle");
  const modalBody = document.getElementById("modalBody");
  const closeModalBtn = document.getElementById("closeModal");

  function openModal(title, body){
    modalTitle.textContent = title;
    modalBody.textContent = body;
    modal.classList.add("open");
    modal.setAttribute("aria-hidden", "false");
  }
  function closeModal(){
    modal.classList.remove("open");
    modal.setAttribute("aria-hidden", "true");
  }
  closeModalBtn.addEventListener("click", closeModal);
  modal.addEventListener("click", (e) => { if(e.target === modal) closeModal(); });
  window.addEventListener("keydown", (e) => { if(e.key === "Escape") closeModal(); });

  document.querySelectorAll(".ph").forEach((el, idx) => {
    el.addEventListener("click", () => {
      const cap = el.getAttribute("data-caption") || ("تصویر " + (idx+1));
      openModal(cap, "اینجا می‌تونی توضیح عکس، تاریخ، مکان، یا داستان کوتاه مرتبط رو بنویسی.");
    });
  });
</script>
</body>
            </html>
